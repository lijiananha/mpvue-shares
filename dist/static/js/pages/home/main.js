global.webpackJsonp([5],{FP3a:function(e,t,s){"use strict";var i=s("pZ1I"),n=s("LoVn");var a=function(e){s("LL6h")},r=s("ybqe")(i.a,n.a,a,"data-v-51a5663d",null);t.a=r.exports},LL6h:function(e,t){},LoVn:function(e,t,s){"use strict";var i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container skeletons"},[s("swiper",{directives:[{name:"show",rawName:"v-show",value:e.is_complete,expression:"is_complete"}],staticClass:"card-swiper square-dot skeletons-rect",attrs:{"indicator-dots":"true",circular:"true",autoplay:"true",interval:"5000",duration:"500","indicator-color":"#8799a3","indicator-active-color":"#0081ff",eventid:"1"},on:{change:e.cardSwiper}},e._l(e.imgList,function(t,i){return s("swiper-item",{key:i,class:e.cardCur==i?"cur":"",attrs:{mpcomid:"0-"+i}},[s("img",{staticClass:"bg-img shadow-blur",attrs:{src:t,alt:"",eventid:"0-"+i},on:{click:function(t){e.goBanner(i)}}})])})),e._v(" "),s("scroll-view",{directives:[{name:"show",rawName:"v-show",value:e.is_complete,expression:"is_complete"}],staticClass:"bg-white nav css-sticky",attrs:{"scroll-x":""}},[s("div",{staticClass:"flex text-center skeletons-rect"},e._l(e.tabList,function(t,i){return s("div",{key:i,staticClass:"cu-item flex-sub",class:i==e.TabCur?"text-orange cur":"",attrs:{"data-id":i,eventid:"2-"+i},on:{tap:e.tabSelect}},[e._v("\n        "+e._s(t)+"\n      ")])}))]),e._v(" "),s("section",e._l(e.newsList,function(t,i){return s("div",{key:i,staticClass:"cu-card article no-card border-top skeletons-rect",attrs:{eventid:"3-"+i},on:{click:function(s){e.goDetail(t)}}},[s("div",{staticClass:"cu-item shadow"},[s("div",{staticClass:"title"},[s("div",{staticClass:"text-cut"},[e._v(e._s(t.resource.title))])]),e._v(" "),s("div",{staticClass:"content"},[s("image",{class:[t.resource.show?"active":"","imgItem"+i],attrs:{src:t.resource.show?t.resource.image_uri:"/static/logo.png",mode:"aspectFill"}}),e._v(" "),s("div",{staticClass:"desc"},[s("div",{staticClass:"text-content"},[e._v(e._s(t.resource.content_short))]),e._v(" "),s("div")])])])])})),e._v(" "),s("skeletons",{attrs:{is_capture_nodes:e.is_capture_nodes,is_complete:e.is_complete,loading:"music",block_animation:"shine",selector:"skeletons",background:"#fff",mpcomid:"1"}})],1)},staticRenderFns:[]};t.a=i},pZ1I:function(e,t,s){"use strict";s("7YlJ");t.a={data:function(){return{is_capture_nodes:!1,is_complete:!1,listData:[],cardCur:0,imgList:[],initTime:"",tabList:["推荐","精选","国内","日历","股市直播"],TabCur:0,scrollLeft:0,newsList:[{resource:""},{resource:""},{resource:""},{resource:""},{resource:""},{resource:""}]}},methods:{goBanner:function(e){this.goDetail(e,"banner")},getBanner:function(){var e=this,t=wx.cloud.database().collection("banner");this.is_capture_nodes=!0,t.get().then(function(t){e.imgList=t.data[0].list||[],e.is_complete=!0}).catch(function(t){return e.is_complete=!0})},cardSwiper:function(e){this.cardCur=e.mp.detail.current},tabSelect:function(e){if(0==e.currentTarget.dataset.id)this.TabCur=e.currentTarget.dataset.id;else{var t="../news/main?tabCur="+e.currentTarget.dataset.id;wx.navigateTo({url:t})}},getNews:function(){var e=this;wx.cloud.callFunction({name:"reptile",data:{type:"getNews",limit:20,cursor:"",channel:"wscn-free",accept:"article,newsroom,morning-report,newsrooms,live,calendar,audition,wits-home-users,hot-themes,vote-interactive,discuss-interactive,ad.internal_banner.inhouse,ad.internal_inline.inhouse,ad.inline.inhouse,ad.video.inhouse,ad.banner.inhouse,ad.inline.plista,ad.banner.plista,ad.topic.inhouse,ad.inline.tanx"}}).then(function(t){var s=t.result.home.data.items||[];e.newsList=s,e.newsList.forEach(function(e,t){return e.resource.show=t<=1}),e.getLazyImg()}).catch(function(e){console.log(e)})},goDetail:function(e,t){var s=void 0;s="banner"===t?"../details/main?type="+t+"&id="+e:"../details/main?id="+e.resource.id,wx.navigateTo({url:s})},getLazyImg:function(){var e=this;setTimeout(function(){var t=function(t){var s=".imgItem"+t;wx.createIntersectionObserver().relativeToViewport({bottom:20}).observe(s,function(i){console.log(s),i.intersectionRatio>0&&(e.newsList[t].resource.show=!0)})};for(var s in e.newsList)t(s)},2e3)}},onLoad:function(){this.getBanner(),this.getNews()}}},usrL:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("5nAL"),n=s.n(i),a=s("FP3a");new n.a(a.a).$mount(),t.default={config:{navigationBarTitleText:"股市日历",usingComponents:{skeletons:"/static/components/component/skeletons/index"}}}}},["usrL"]);